{% if site.posts.size > 0 %}
{% assign grouped_posts = site.posts | group_by_exp: "post", "post.tags | first" %}

{% for tag in grouped_posts %}
  <div class="blog-section">
    <h2>#{{ tag.name }}</h2>
    <ul class="blog-list">
      {% for post in tag.items %}
        <li>
          <span class="blog-date">{{ post.date | date: "%Y-%m-%d" }}</span>
          <a href="{{ post.url }}">{{ post.title }}</a>
        </li>
      {% endfor %}
    </ul>
  </div>
{% endfor %}
{% endif %}
